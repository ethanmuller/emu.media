import{S as Ge,i as Ve,s as We,e as y,t as U,a as v,b as pe,c as u,d as Ze,f as Je,g as Xe,h as ge,R as j,j as z,k as G,l as E,m as V,n as Ne,o as W,p as Z,q as N,r as C,u as Ye,v as J,w as X,x as xe,y as $e,V as et,M as tt,T as ce,z as Be,A as st,B as nt,C as Ce,D as rt,E as lt,F as De,G as He,H as ot,I as at}from"./vendor.0f20ef37.js";const ut=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))g(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&g(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function g(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}};ut();const{window:it}=st;function Oe(s){let t,e,g,r,a;return{c(){t=y("div"),e=U(s[9]),v(t,"class","copy-message svelte-tthq2q")},m(l,p){pe(l,t,p),u(t,e),a=!0},p(l,p){(!a||p[0]&512)&&Ze(e,l[9])},i(l){a||(Je(()=>{r&&r.end(1),g=nt(t,Ce,{y:10,duration:500}),g.start()}),a=!0)},o(l){g&&g.invalidate(),r=Xe(t,Ce,{y:10,duration:500,delay:500}),a=!1},d(l){l&&ge(t),l&&r&&r.end()}}}function ft(s){let t,e,g;return{c(){t=y("button"),t.innerHTML=`stop
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tthq2q"><rect width="16" height="16" fill="black"></rect></svg>`,v(t,"class","transport-btn svelte-tthq2q"),De(t,"background","#f77")},m(r,a){pe(r,t,a),e||(g=Z(t,"click",s[15]),e=!0)},p:He,d(r){r&&ge(t),e=!1,g()}}}function pt(s){let t,e,g;return{c(){t=y("button"),t.innerHTML=`play

<svg width="19" height="23" viewBox="0 0 19 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tthq2q"><path d="M19 11.5L0.249999 22.3253L0.25 0.674682L19 11.5Z" fill="black"></path></svg>`,v(t,"class","transport-btn svelte-tthq2q"),De(t,"background","rgb(255, 215, 0)")},m(r,a){pe(r,t,a),e||(g=Z(t,"click",s[13]),e=!0)},p:He,d(r){r&&ge(t),e=!1,g()}}}function gt(s){let t,e,g,r,a,l,p,f,w,h,_,d,B,i,T,te,b,Y,se,D,ne,q,x,re,H,O,P,I,le,F,oe,R,$,ae,K,o,c,L,Q,k,ue,M,ie,ee,he,ye,m=s[9]&&Oe(s);function we(n,S){return n[8]?ft:pt}let fe=we(s),A=fe(s);function Ie(n){s[19](n)}let qe={range:"min",min:30,max:1e3,float:!0};s[1]!==void 0&&(qe.values=s[1]),b=new j({props:qe}),z.push(()=>G(b,"values",Ie));function Fe(n){s[20](n)}let ke={range:"min",min:0,max:1760,float:!0};s[2]!==void 0&&(ke.values=s[2]),q=new j({props:ke}),z.push(()=>G(q,"values",Fe));function Ke(n){s[21](n)}let Se={range:"min",min:0,max:1,float:!0,step:.001};s[6]!==void 0&&(Se.values=s[6]),P=new j({props:Se}),z.push(()=>G(P,"values",Ke));function Qe(n){s[22](n)}let Te={range:"min",min:0,max:1,float:!0,step:.01};s[3]!==void 0&&(Te.values=s[3]),R=new j({props:Te}),z.push(()=>G(R,"values",Qe));function je(n){s[23](n)}let ve={range:"min",min:-.5,max:1,float:!0,step:.01};s[4]!==void 0&&(ve.values=s[4]),c=new j({props:ve}),z.push(()=>G(c,"values",je));function ze(n){s[24](n)}let Pe={range:"min",min:0,max:1,float:!0,step:.001};return s[5]!==void 0&&(Pe.values=s[5]),M=new j({props:Pe}),z.push(()=>G(M,"values",ze)),{c(){t=y("main"),e=y("header"),g=y("h1"),r=y("a"),a=U(s[10]),p=E(),f=y("input"),w=E(),h=y("button"),m&&m.c(),_=U(`\r
\r
            copy params`),d=E(),A.c(),B=E(),i=y("div"),T=y("label"),te=U(`BPM\r
            `),V(b.$$.fragment),se=E(),D=y("label"),ne=U(`PITCH\r
            `),V(q.$$.fragment),re=E(),H=y("label"),O=U(`LENGTH\r
            `),V(P.$$.fragment),le=E(),F=y("label"),oe=U(`RANDOM\r
            `),V(R.$$.fragment),ae=E(),K=y("label"),o=U(`RAMP\r
            `),V(c.$$.fragment),Q=E(),k=y("label"),ue=U(`STRESS\r
            `),V(M.$$.fragment),v(r,"href",l=`emu.media/synth?${s[0].toString()}`),v(r,"class","svelte-tthq2q"),v(g,"class","svelte-tthq2q"),v(f,"class","svelte-tthq2q"),v(h,"class","copy-btn svelte-tthq2q"),v(e,"class","svelte-tthq2q"),v(T,"for","bpm"),v(i,"class","params svelte-tthq2q"),v(t,"class","svelte-tthq2q")},m(n,S){pe(n,t,S),u(t,e),u(e,g),u(g,r),u(r,a),u(e,p),u(e,f),Ne(f,s[7]),u(e,w),u(e,h),m&&m.m(h,null),u(h,_),u(e,d),A.m(e,null),u(t,B),u(t,i),u(i,T),u(T,te),W(b,T,null),u(i,se),u(i,D),u(D,ne),W(q,D,null),u(i,re),u(i,H),u(H,O),W(P,H,null),u(i,le),u(i,F),u(F,oe),W(R,F,null),u(i,ae),u(i,K),u(K,o),W(c,K,null),u(i,Q),u(i,k),u(k,ue),W(M,k,null),ee=!0,he||(ye=[Z(it,"keydown",s[12]),Z(f,"input",s[18]),Z(f,"keydown",s[11]),Z(h,"click",s[14])],he=!0)},p(n,S){(!ee||S[0]&1&&l!==(l=`emu.media/synth?${n[0].toString()}`))&&v(r,"href",l),S[0]&128&&f.value!==n[7]&&Ne(f,n[7]),n[9]?m?(m.p(n,S),S[0]&512&&N(m,1)):(m=Oe(n),m.c(),N(m,1),m.m(h,_)):m&&(rt(),C(m,1,1,()=>{m=null}),Ye()),fe===(fe=we(n))&&A?A.p(n,S):(A.d(1),A=fe(n),A&&(A.c(),A.m(e,null)));const Le={};!Y&&S[0]&2&&(Y=!0,Le.values=n[1],J(()=>Y=!1)),b.$set(Le);const Me={};!x&&S[0]&4&&(x=!0,Me.values=n[2],J(()=>x=!1)),q.$set(Me);const Re={};!I&&S[0]&64&&(I=!0,Re.values=n[6],J(()=>I=!1)),P.$set(Re);const Ae={};!$&&S[0]&8&&($=!0,Ae.values=n[3],J(()=>$=!1)),R.$set(Ae);const Ue={};!L&&S[0]&16&&(L=!0,Ue.values=n[4],J(()=>L=!1)),c.$set(Ue);const Ee={};!ie&&S[0]&32&&(ie=!0,Ee.values=n[5],J(()=>ie=!1)),M.$set(Ee)},i(n){ee||(N(m),N(b.$$.fragment,n),N(q.$$.fragment,n),N(P.$$.fragment,n),N(R.$$.fragment,n),N(c.$$.fragment,n),N(M.$$.fragment,n),ee=!0)},o(n){C(m),C(b.$$.fragment,n),C(q.$$.fragment,n),C(P.$$.fragment,n),C(R.$$.fragment,n),C(c.$$.fragment,n),C(M.$$.fragment,n),ee=!1},d(n){n&&ge(t),m&&m.d(),A.d(),X(b),X(q),X(P),X(R),X(c),X(M),he=!1,xe(ye)}}}let me=0,_e=.1,de=.5,be=0;function ht(s){let t=s;return t.match(/\hehe\b/)&&(t=t.replace(/\hehe\b/g,"he he")),t.match(/\haha\b/)&&(t=t.replace(/\haha\b/g,"ha ha")),t.match(/\lmao\b/)&&(t=t.replace(/\lmao\b/g,"ell em ay oh")),t.match(/\bok\b/)&&(t=t.replace(/\bok\b/g,"oh kay")),t.match(/\!/)&&(t=t.replace(/\!/g,"")),t.match(/\?/)&&(t=t.replace(/\?/g,"")),t.match(/\:/)&&(t=t.replace(/\:/g,"")),t.match(/\)/)&&(t=t.replace(/\)/g,"")),t.match(/\bomg\b/)&&(t=t.replace(/\bomg\b/g,"oh my god")),t}function ct(s,t,e){let g=!1,r=!1,a,l=new URLSearchParams(window.location.search),p=[l.get("bpm")||100],f=[l.get("pitch")||110],w=[l.get("random")||0],h=[l.get("ramp")||0],_=[l.get("stress")||.5],d=[l.get("length")||.7],B=60/p[0]/2*d[0],i=l.get("phrase")||"the elephant took a bite!",T=null,te="emu.media/synth";const b=$e(()=>{history.replaceState({},"","?"+l.toString())},500);function Y(o){o.keyCode===13&&!r&&D()}function se(o){o.keyCode===27&&P()}function D(){I(i,null,{synth:q,bpm:180,hi:300,lo:280,t:"32n"})}function ne(){const c=`${window.location.toString().split("?")[0]}?${l.toString()}`;navigator.clipboard?navigator.clipboard.writeText(c).then(()=>{e(9,T="copied to clipboard"),window.setTimeout(()=>e(9,T=null),500)},()=>{e(9,T="something went wrong"),window.setTimeout(()=>e(9,T=null),500)}):(e(9,T="something went wrong"),window.setTimeout(()=>e(9,T=null),500))}new et(0).toDestination();let q=new tt({oscillator:{type:"amsawtooth"},envelope:{attack:me,decay:_e,sustain:de,release:be},filter:{Q:9,type:"lowpass",frequency:8e3},filterEnvelope:{attack:me,decay:_e,sustain:de,release:be,baseFrequency:1200}}).toDestination();function x(o,c,L){const Q=Math.random()*o.hi/2*w[0];if(c){const k=f[0]+f[0]*_[0]+Q;o.synth.triggerAttackRelease(k,B,L),o.synth.frequency.rampTo(k+k*h[0],B,L)}else{const k=f[0]+Q;o.synth.triggerAttackRelease(k,B,L),o.synth.frequency.rampTo(k+k*h[0],B,L)}}["hello there","the elephant took a bite!","i love you","haha","hahahahahahahahahaha","omg haha","lmao","hehe","ur an idiot :)","how's it going?","wonderful","hi","yo","indubitably","absolutely tremendous"].sort((o,c)=>o.length<c.length?1:-1);function re(){e(17,ce.bpm.value=p[0],Be),ot(),ce.start(),g=!0}function H(o){let c=at.stresses(o).split(/[ \/]/);return c.push("end"),c}function O(){a.stop(),a.dispose(),e(8,r=!1)}function P(){a&&O()}function I(o,c,L,Q){g||re(),r&&O(),e(8,r=o),L.bpm;const k=H(ht(o));a=new lt(function(ue,M){if(M==="end"){c&&c();return}x(L,M==="1",ue)},k),a.loop=!0,a.start(.1)}function le(){i=this.value,e(7,i)}function F(o){p=o,e(1,p)}function oe(o){f=o,e(2,f)}function R(o){d=o,e(6,d)}function $(o){w=o,e(3,w)}function ae(o){h=o,e(4,h)}function K(o){_=o,e(5,_)}return s.$$.update=()=>{s.$$.dirty[0]&3&&(l.set("bpm",p[0]),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&5&&(l.set("pitch",f[0]),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&65&&(l.set("length",d[0]),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&9&&(l.set("random",w[0]),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&17&&(l.set("ramp",h[0]),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&33&&(l.set("stress",_[0]),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&128&&(e(7,i),P()),s.$$.dirty[0]&129&&(l.set("phrase",i),e(0,l),e(1,p),e(2,f),e(6,d),e(3,w),e(4,h),e(5,_),e(7,i),b()),s.$$.dirty[0]&66&&(B=60/p[0]/2*d[0]),s.$$.dirty[0]&131074&&ce.bpm.rampTo(+p,.1)},q.envelope.set({attack:me}),q.envelope.set({decay:_e}),q.envelope.set({sustain:de}),q.envelope.set({release:be}),[l,p,f,w,h,_,d,i,r,T,te,Y,se,D,ne,O,I,Be,le,F,oe,R,$,ae,K]}class mt extends Ge{constructor(t){super();Ve(this,t,ct,gt,We,{sayPhrase:16},null,[-1,-1])}get sayPhrase(){return this.$$.ctx[16]}}new mt({target:document.getElementById("app")});
